digraph Raft {
    rankdir=LR;
    edge [fontname = "Verdana", fontsize = 10, color="crimson", style="solid"];
 
    Message [shape="none" label=<<table border="0" cellspacing="0">
    <tr><td bgcolor="yellow" border="1">Message</td></tr>
    <tr><td border="1" align="left" port="type">type&nbsp;&nbsp;MessageType</td></tr>
    <tr><td border="1" align="left">to&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint64</td></tr>
    <tr><td border="1" align="left">from&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint64</td></tr>
    <tr><td border="1" align="left">term&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint64</td></tr>
    <tr><td border="1" align="left">logTerm&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint64</td></tr>
    <tr><td border="1" align="left">index&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint64</td></tr>
    <tr><td border="1" align="left" port="entries">entries&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;Entry</td></tr>
    <tr><td border="1" align="left">commit&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint64</td></tr>
    <tr><td border="1" align="left" port="snapshot">snapshot&nbsp;&nbsp;Snapshot</td></tr>
    <tr><td border="1" align="left">reject&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bool</td></tr>
    <tr><td border="1" align="left">rejectHint&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint64</td></tr>
    <tr><td border="1" align="left">context&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bytes</td></tr>
    </table>>];

    MessageType [shape="none" label=<<table border="0" cellspacing="0">
    <tr><td bgcolor="#EE82EE" border="1" port="head">MessageType</td></tr>
	<tr><td border="1" align="left">MsgHup             = 0</td></tr>
	<tr><td border="1" align="left">MsgBeat            = 1</td></tr>
	<tr><td border="1" align="left">MsgProp            = 2</td></tr>
	<tr><td border="1" align="left">MsgApp             = 3</td></tr>
	<tr><td border="1" align="left">MsgAppResp         = 4</td></tr>
	<tr><td border="1" align="left">MsgVote            = 5</td></tr>
	<tr><td border="1" align="left">MsgVoteResp        = 6</td></tr>
	<tr><td border="1" align="left">MsgSnap            = 7</td></tr>
	<tr><td border="1" align="left">MsgHeartbeat       = 8</td></tr>
	<tr><td border="1" align="left">MsgHeartbeatResp   = 9</td></tr>
	<tr><td border="1" align="left">MsgUnreachable     = 10</td></tr>
	<tr><td border="1" align="left">MsgSnapStatus      = 11</td></tr>
	<tr><td border="1" align="left">MsgCheckQuorum     = 12</td></tr>
	<tr><td border="1" align="left">MsgTransferLeader  = 13</td></tr>
	<tr><td border="1" align="left">MsgTimeoutNow      = 14</td></tr>
	<tr><td border="1" align="left">MsgReadIndex       = 15</td></tr>
	<tr><td border="1" align="left">MsgReadIndexResp   = 16</td></tr>
	<tr><td border="1" align="left">MsgPreVote         = 17</td></tr>
	<tr><td border="1" align="left">MsgPreVoteResp     = 18</td></tr>
    </table>>];

    Entry [shape="none" label=<<table border="0" cellspacing="0">
    <tr><td bgcolor="yellow" border="1" port="head">Entry</td></tr>
    <tr><td border="1" align="left">Term&nbsp;uint64</td></tr>
    <tr><td border="1" align="left">Index&nbsp;uint64</td></tr>
    <tr><td border="1" align="left" port="type">Type&nbsp;EntryType</td></tr>
    <tr><td border="1" align="left">Data&nbsp;bytes</td></tr>
    </table>>];
   
    EntryType [shape="none" label=<<table border="0" cellspacing="0">
    <tr><td bgcolor="#EE82EE" border="1" port="head">MessageType</td></tr>
	<tr><td border="1" align="left">EntryNormal             = 0</td></tr>
	<tr><td border="1" align="left">EntryConfChange         = 1</td></tr>
    </table>>];
    
    Snapshot [shape="none" label=<<table border="0" cellspacing="0">
    <tr><td bgcolor="yellow" border="1" port="head">Snapshot</td></tr>
	<tr><td border="1" align="left">data&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;bytes</td></tr>
	<tr><td border="1" align="left" port="metadata">metadata&nbsp;SnapshotMetadata</td></tr>
    </table>>];

    SnapshotMetadata [shape="none" label=<<table border="0" cellspacing="0">
    <tr><td bgcolor="yellow" border="1" port="head">SnapshotMetadata</td></tr>
	<tr><td border="1" align="left" port="conf_state">conf_state&nbsp;ConfState</td></tr>
	<tr><td border="1" align="left">index&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint64</td></tr>
	<tr><td border="1" align="left">term&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint64</td></tr>
    </table>>];

    ConfState [shape="none" label=<<table border="0" cellspacing="0">
    <tr><td bgcolor="yellow" border="1" port="head">ConfState</td></tr>
	<tr><td border="1" align="left">nodes&nbsp;&nbsp;&nbsp;&nbsp;uint64</td></tr>
	<tr><td border="1" align="left">learners&nbsp;uint64</td></tr>
    </table>>];

    ConfChangeType[shape="none" label=<<table border="0" cellspacing="0">
    <tr><td bgcolor="#EE82EE" border="1" port="head">ConfChangeType</td></tr>
	<tr><td border="1" align="left">ConfChangeAddNode        = 0</td></tr>
	<tr><td border="1" align="left">ConfChangeRemoveNode     = 1</td></tr>
	<tr><td border="1" align="left">ConfChangeUpdateNode     = 2</td></tr>
	<tr><td border="1" align="left">ConfChangeAddLearnerNode = 3</td></tr>
    </table>>];

    ConfChange [shape="none" label=<<table border="0" cellspacing="0">
    <tr><td bgcolor="yellow" border="1" port="head">ConfChange</td></tr>
	<tr><td border="1" align="left">ID&nbsp;uint64</td></tr>
	<tr><td border="1" align="left" port="type">Type&nbsp;ConfChangeType</td></tr>
	<tr><td border="1" align="left">NodeID&nbsp;uint64</td></tr>
	<tr><td border="1" align="left">Context&nbsp;bytes</td></tr>
    </table>>];

    HardState [shape="none" label=<<table border="0" cellspacing="0">
    <tr><td bgcolor="yellow" border="1" port="head">HardState</td></tr>
	<tr><td border="1" align="left">term&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint64</td></tr>
	<tr><td border="1" align="left">vote&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;uint64</td></tr>
	<tr><td border="1" align="left">commit&nbsp;uint64</td></tr>
    </table>>];


    Message:type -> MessageType:head;
    Message:entries -> Entry:head;
    Message:snapshot -> Snapshot:head;
    Entry:type -> EntryType:head;
    Snapshot:metadata -> SnapshotMetadata:head;
    SnapshotMetadata:conf_state -> ConfState:head;
    ConfChange:type -> ConfChangeType:head;
}
